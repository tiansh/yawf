<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <meta name="keywords" content="YAWF, Yet Another Weibo Filter, 看真正想看的微博, Weibo, Sina Weibo, 微博, 新浪微博, 过滤, Filter" />
  <meta name="description" content="Yet Another Weibo Filter - 看真正想看的微博 - 安装使用的常见问题 - 本文列举一些使用脚本是常见的问题。" />
  <title>常见问题 - Yet Another Weibo Filter - 看真正想看的微博</title>
  <link rel="canonical" href="https://tiansh.github.io/yawf/fqa.html">
  <link rel="icon" href="https://tiansh.github.io/yawf/yawf.ico" />
  <link rel="stylesheet" href="pages/main.css" />
  <script src="pages/main.js"></script>
</head>
<body>
  <article class="hentry">
    <header>
      <div id="icon">
        <svg version="1.1" id="yawf-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 96 96">
          <path style="fill:#D92D3A;" d="M12,54c11.687-0.576,21.197-0.143,24.75,7.5c3.398,5.701,0.191,13.075-1.5,18c3.936,0.705,6.164,2.012,8.25,4.5c-10.499,0-21.001,0-31.5,0C12,74.001,12,63.999,12,54z" />
          <path style="fill:#E98D49;" d="M71.366,28.911c-11.204-13.26-27.73-18.315-42.984-14.853h-0.006c-3.53,0.807-5.78,4.513-5.024,8.274c0.752,3.764,4.224,6.169,7.753,5.366c10.852-2.46,22.595,1.138,30.56,10.558c7.957,9.419,10.119,22.266,6.711,33.528l0.002,0.002c-1.111,3.669,0.769,7.593,4.21,8.779c3.427,1.185,7.111-0.819,8.223-4.479c0-0.007,0-0.021,0.002-0.027C85.595,60.217,82.574,42.158,71.366,28.911" />
          <path style="fill:#E98D49;" d="M54.161,45.486c-5.453-6.458-13.505-8.911-20.938-7.224c-3.038,0.691-4.974,3.883-4.322,7.128c0.65,3.232,3.637,5.309,6.668,4.605v0.007c3.633-0.82,7.573,0.376,10.239,3.527c2.669,3.158,3.386,7.46,2.241,11.235h0.006c-0.952,3.151,0.664,6.539,3.618,7.56c2.955,1.01,6.125-0.71,7.079-3.869C61.086,60.739,59.625,51.943,54.161,45.486" />
        </svg>
      </div>
      <h1 class="entry-title">常见问题</h1>
    </header>
    <div class="in entry-summary">
      <p>本文列举一些使用脚本是常见的问题。如果您发现了脚本的缺陷、希望提出功能建议或者希望推送代码到这个项目，请阅读<a href="https://github.com/tiansh/yawf/blob/master/CONTRIBUTING.mediawiki" target="_blank">CONTRIBUTING</a>。如果您的问题不在这里，您可以直接<a href="http://weibo.com/tsh90" target="_blank">在微博上私信联系我</a>。</p>
      <p>如果您希望获得更多关于“自定义 CSS”的参考，您可以查阅<a href="https://tiansh.github.io/yawf/stylish.html" target="_blank">常用自定义样式</a>。</p>
    </div>
    <nav class="index"><span class="tol">目录</span></nav>
    <div class="entry-content">
      <h2>安装与卸载脚本</h2>
      <div class="in">
        <h3>如何安装脚本</h3>
        <div class="in">
          <h4>安装脚本</h4>
          <div class="in">
            <p>请访问<a href="https://tiansh.github.io/yawf/">脚本主页</a>，并根据安装指引中的说明操作。</p>
            <p>当前脚本仅支持 Mozilla Firefox, Opera, Google Chrome, Safari 浏览器；使用其他浏览请仿照这些浏览器的安装方法安装。</p>
          </div>
          <h4>兼容性问题</h4>
          <div class="in">
            <p>脚本最初设计为在 Mozilla Firefox 上运行。后来增加了对 Opera, Google Chrome 和 Safari 的支持。但仍有一些功能由于技术原因仅支持 Mozilla Firefox 浏览器，如果您使用其他的浏览器，会有以下兼容性问题：</p>
            <ul>
              <li>无法使用右键菜单创建过滤器：这是由于浏览器不支持脚本自定义右键菜单导致的，在您的浏览器支持该功能前该问题不会得到解决；</li>
              <li>设置中自定义 CSS 的输入框排版可能有点小问题，不影响使用；</li>
              <li>Safari：无法重新排列微博下按钮的顺序（需要 CSS order 支持）；</li>
              <li>OS X：由于无法拖拽文本，所以无法使用拖拽创建关键词的过滤器。</li>
            </ul>
          </div>
          <h4>隐私与安全</h4>
          <div class="in">
            <p>请确认您安装的脚本是否来自以下页面之一（随选择的语言不同，网址中语言部分可能会有少许不同）：</p>
            <ul>
              <li>脚本主页： <a href="https://tiansh.github.io/yawf/zh-cn.html">https://tiansh.github.io/yawf/zh-cn.html</a></li>
              <li>OpenUserJS： <a href="https://openuserjs.org/scripts/ts/Yet_Another_Weibo_Filter">https://openuserjs.org/scripts/ts/Yet_Another_Weibo_Filter</a></li>
              <li>Greasy Fork： <a href="https://greasyfork.org/zh-CN/scripts/3249-yet-another-weibo-filter">https://greasyfork.org/zh-CN/scripts/3249-yet-another-weibo-filter</a></li>
            </ul>
            <p>如果您安装自其他的途径，请务必确认来源的可靠性。<b>安装被恶意篡改的脚本可能侵犯您的隐私及上网安全</b>：如搜集您的浏览数据，盗窃您的密码，自动添加关注，甚至以您的名义发布内容等等。而且这些恶意行为并不仅限于微博网站，而是您访问的所有网站。</p>
            <p>脚本的隐私声明见<a href="https://tiansh.github.io/yawf/" target="_blank">脚本主页</a>。</p>
          </div>
          <h4>安装后没有变化或者排版混乱</h4>
          <div class="in">
            <p>如果安装之后没有变化或者排版混乱，可能是安装的环境有问题。</p>
            <ul>
              <li>脚本不支持 Opera 12 ， Firefox 19 等比较旧的版本，如果您正在使用的版本过于陈旧，请考虑升级您的浏览器。</li>
              <li>对 Firefox 用户，脚本不支持使用 Scriptish 和一些 UC 脚本实现的用户脚本宿主，需要使用 Greasemonkey 。</li>
              <li>您的浏览器如果不是最新版，请确认安装的 Greasemonkey / Tampermonkey / 暴力猴 是否和您的浏览器相适应，可能新版的扩展安装在旧版的浏览器上会出现问题。</li>
              <li>对 Chrome 用户，尤其是这世界上已知网络不好的某些地区的用户，可以试试卸载并重新安装 Tampermonkey 。</li>
            </ul>
          </div>
        </div>
        <h3>如何卸载脚本</h3>
        <div class="in">
          <p>对火狐用户，在附加组件页面选择用户脚本，找到 Yet Another Weibo Filter 点击卸载即可。卸载脚本会自动清除脚本在您本地保存的数据。其他浏览器的用户可以在对应脚本宿主，如 Tampermonkey 或暴力猴的设置中找到本脚本，选择删除或卸载即可。</p>
        </div>
      </div>
      <h2>设置脚本</h2>
      <div class="in">
        <h3>如何打开设置界面</h3>
        <div class="in">
          <p>安装脚本后打开或刷新新浪微博的网页，您将会在右上角看到一个漏斗状图标，点击该图标即可开始脚本设置。除了漏斗图标外，齿轮图标的下拉菜单中同样可以找到过滤器设置的选项，点击也可打开过滤器设置。</p>
          <h4>没有看到漏斗图标</h4>
          <div class="in">
            <p>如果在新浪微博的页面没有看到漏斗图标，请检查以下原因：</p>
            <ul>
              <li>脚本当前只在首页、个人主页等页面生效，对于帐号设置等页面并未启用，请换到首页；</li>
              <li>您的脚本没有正确安装或处于被禁用的状态，请到 GreaseMonkey 或其他对应扩展的菜单中进行检查；</li>
              <li>您的自定义样式隐藏了漏斗图标，相关问题详见<a href="#我设置的%20CSS%20隐藏了漏斗图标或设置窗口">我设置的 CSS 隐藏了漏斗图标或设置窗</a>段落。</li>
            </ul>
          </div>
        </div>
        <h3>保存设置</h3>
        <div class="in">
          <p>脚本的设置项即时保存，所以不需要确定或保存按钮。修改的设置不会立即生效，只会在您刷新页面或打开新页面时生效。</p>
        </div>
        <h3>从其他脚本导入设置</h3>
        <div class="in">
          <p>本脚本支持您导入“眼不见心不烦”脚本的设置。如果您同时打开了这两个脚本，在本脚本的设置窗口中“关于脚本”选项卡，可以看到“导入‘眼不见心不烦’设置”的按钮，点击即可导入。此外，您还可以参考<a href="https://tiansh.github.io/yawf/wcf_convert.html" target="_blank">在线设置文件转换工具</a>的相关说明进行操作。注意，因为脚本在设计上的各种不同之处，转换前后的设置只是近似而并不能完全相同，您可能需要再调整部分设置。</p>
        </div>
      </div>
      <h2>过滤器</h2>
      <div class="in">
        <h3>隐藏与折叠有什么区别</h3>
        <div class="in">
          <p>设置中可以隐藏或折叠一条微博。一条微博如果被隐藏，那么这条微博将彻底不会显示在屏幕上。而如果一条微博被折叠，那么会显示类似“一条微博被折叠，点击查看”的提示信息，点击可以查看微博原文。</p>
        </div>
        <h3>什么是正则表达式</h3>
        <div class="in">
          <p><b>正则表达式</b>是一种比基于文本查找更复杂的匹配文本的方式。如果您不清楚正则表达式的具体工作原理，推荐您只是用关键字过滤。如果您希望了解正则表达式，您可以参考<a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank">《正则表达式30分钟入门教程》</a>。正则式在匹配时会先移除微博中的表情和链接等内容，之后使用空格拼合整个字串。正则式在编译时不会添加<code>^$</code>，如果需要请手动添加。</p>
          <p>关于更多正则表达式的使用方法，您可以参考<a href="https://tiansh.github.io/yawf/regexp.html" target="_blank">用于过滤微博的正则表达式快速入门</a>。</p>
        </div>
        <h3>关于正则表达式的一些细节问题</h3>
        <div class="in">
          <p>对于有换行符的微博，您可以使用 <code>/\n/</code> 识别换行符。正则表达式编译时不带有 m 标记。</p>
          <p>如果想自定义折叠时显示的原因，可以在正则表达式中使用 <code>(?=|因×××)</code> 表示，脚本会识别正则表达式中第一个形如 <code>(?=|xyz)</code> 的规则作为原因显示。</p>
        </div>
        <h3>如何设置同时出现某些关键词</h3>
        <div class="in">
          <p>关键词列表中的词之间是“或”的关系。换句话说，只要微博中出现了其中的任何一个关键词就会被过滤。如果希望添加一个“与”的关系的过滤规则，也就是说一条微博只有同时出现某几个关键词时才被过滤，那么可以通过正则表达式来实现。正则规则的细节这里不做介绍，这里仅举例说明用法。</p>
          <p>例如您要过滤同时出现“冬瓜”和“羊肉”两个关键字的微博，那么只需要在“正则表达式”的规则中添加<code>(?=.*冬瓜)(?=.*羊肉)</code>即可。</p>
          <p>需要注意的是，因为是正则表达式，如果您过滤的关键词中包括<code>.*+?^${}()|[]/\</code>这些字符，您需要在这些字符的每一个之前添加<code>\</code>标记。例如您希望过滤同时出现“??!”和“...”的微博，那么您需要将规则书写为<code>(?=.*\?\?!)(?=.*\.\.\.)</code>。</p>
          <p>关于更多正则表达式的使用方法，您可以参考<a href="https://tiansh.github.io/yawf/regexp.html" target="_blank">用于过滤微博的正则表达式快速入门</a>。</p>
        </div>
        <h3>帐号、原创和提及分别指什么</h3>
        <div class="in">
          <p>脚本对一条状态中的作者、原创和提及区分进行了处理。</p>
          <ul>
            <li><b>帐号</b>：您关注的一个帐号，这条微博因为这个帐号的撰写或转发被推送到您的微博列表中；</li>
            <li><b>原创</b>：如果一条微博是原创的（不是转发的）那么他的作者就是原创的作者，否则原创指这条微博最早转发自哪里；</li>
            <li><b>提到</b>：提到包括在微博中使用“@”提到的帐号，也包括转发路径中的那些账号；</li>
          </ul>
          <p>脚本中您可以对三者分别进行隐藏。</p>
          <p>需要注意的是，作者和原创是根据帐号的ID进行过滤的：如果这个人修改了昵称，您设置的过滤器依然有效。但是提到因为技术原因，提到的过滤只能根据昵称的文本匹配。所以该帐号修改了昵称之后，设置的过滤器将会失效。</p>
        </div>
        <h3>按链接过滤功能是怎么工作的</h3>
        <div class="in">
          <p>将鼠标指向链接时，会弹出来链接指向的实际地址（非 t.cn 的短地址）的气球。脚本在隐藏时基于对气球中的内容做字符串匹配得到。例如，如果一个链接被多次短链，那么脚本将无法识别到这个链接。如果一个链接为 http://www.example.com/www.example.org 那么 www.example.org 同样将匹配到这个链接。</p>
        </div>
      </div>
      <h2>快速创建过滤器</h2>
      <div class="in">
        <h3>如何使用拖放快速创建过滤器</h3>
        <div class="in">
          <p>如果您在脚本中启用了使用拖放快速创建过滤器的功能，您可以使用鼠标拖拽微博中的文字、帐号、话题、来源等。拖拽时网页右上角会显示一个黄色的区域，您需要将特定内容拖到该区域上放开鼠标。如果您拖放的内容可以被脚本识别，脚本会根据您拖拽的内容列出所有匹配的过滤器，弹出创建过滤器的对话框询问您要创建哪些过滤器。</p>
          <h4>我拖拽某个内容后没有显示释放区域</h4>
          <div class="in">
            <p>这可能是由于以下原因导致的：</p>
            <ul>
              <li>您在设置中禁用了拖放功能；</li>
              <li>您拖放的内容不能被识别；</li>
              <li>您拖放的用户链接昵称不正确。</li>
            </ul>
          </div>
          <h4>释放拖拽元素后没有弹出创建过滤器的对话框</h4>
          <div class="in">
            <p>这可能是由于以下原因导致的：</p>
            <ul>
              <li>您拖拽的内容不能被脚本识别。</li>
              <li>和其他附加组件冲突，已知冲突列表：
                <ul>
                  <li>Firefox: DragIt （可以考虑使用超级拖拽替代）</li>
                  <li>Firefox: 附加组件管理器（开启拖拽功能时，中国版火狐自带扩展，替代同上）</li>
                </ul>
              </li>
              <li>拖拽用户链接时，查找用户信息的网络访问出错；</li>
              <li>您拖放的是提到某用户的链接，且经查没有用户对应链接中的用户名</li>
            </ul>
          </div>
          <h4>拖放功能能够识别哪些内容</h4>
          <div class="in">
            <ul>
              <li>用户的头像和链接
                <ul><li>包括微博内、用户卡片、分组用户信息、关注粉丝列表</li></ul>
              </li>
              <li>话题的链接
                <ul><li>包括微博内、热门话题</li></ul>
              </li>
              <li>微博内容中的链接</li>
              <li>微博的来源</li>
              <li>微博中选中的文本</li>
            </ul>
          </div>
        </div>
        <h3>使用右键菜单快速创建过滤器</h3>
        <div class="in">
          <p>如果您在设置中启用了使用右键菜单快速创建过滤器的功能，那么在首页和个人主页，任意一条微博上点击右键，即可看到“创建过滤器”的菜单项，菜单中可以根据作者、转发自、话题、来源、链接等创建过滤器。</p>
          <h4>右键菜单中我没有找到“创建过滤器”的菜单项</h4>
          <div class="in">
            <ul>
              <li>当前仅火狐浏览器支持自定义的右键菜单功能</li>
              <li>和某个附加组件冲突，目前已知与下列附加组件有冲突：
                <ul><li>迅雷扩展（一些版本的迅雷软件安装的附加组件，并非来自 AMO ，考虑使用 xThunder 代替）</li></ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <h2>过滤器相关功能</h2>
      <div class="in">
        <h3>为什么我设置的某个过滤器的规则没有生效</h3>
        <div class="in">
          <p>如果您设置了某个隐藏的规则，但是您又看到了符合该隐藏规则的微博：</p>
          <ul>
            <li>首先检查您设置的隐藏条件（如关键字）的拼写是否与该微博中出现的完全一致；</li>
            <li>检查这条微博是否同样匹配了某条白名单规则：白名单的优先级高于黑名单，黑名单的优先级高于折叠；</li>
            <li>在用户主页上不会根据作者过滤微博，单条微博页面不会过滤微博（设计如此）；</li>
            <li>如果需要将关键词作用到话题、提到、链接或表情上，需要在内容设置中打开相关开关；</li>
            <li>如果启用了“告知服务器被隐藏的微博以避免再次加载”那么隐藏过一次的微博将不会再载入，即便您又将其添加到白名单中。</li>
          </ul>
          <p>如果您可以排除上述情况，欢迎向我<a href="https://github.com/tiansh/yawf/blob/master/CONTRIBUTING.mediawiki" target="_blank">反馈问题</a>。</p>
        </div>
        <h3>什么是有新微博自动加载</h3>
        <div class="in">
          <p>当您收到新微博后，微博列表顶端会显示一行“有XX条新微博，点击查看”字样的横幅，点击后就会显示出新的微博。而这些微博在加载之前，过滤器无从得知他们是否因为包含特定的关键词等原因应该被隐藏。因此可能会出现虽然提示有新微博，但是点击后却什么都没有的情况。自动加载新微博的目的就是解决这个问题：一旦发现了有新微博的提示，那么脚本会自动帮您点开，并根据设定的过滤器进行过滤。如果确实有未被黑名单过滤的微博，脚本才会再提示您有新微博要看。</p>
        </div>
        <h3>什么是加载后直接展开</h3>
        <div class="in">
          <p>仅当您开启了新微博的自动加载时生效。如果加载出来的微博不在黑名单内，那么脚本会直接将这些微博显示出来而不用您再点击查看新微博的横幅。脚本提供了在页面处于活动状态下暂停展开的功能，以避免在您浏览其它微博的时候由于自动展开的效果而造成困扰。</p>
        </div>
        <h3>什么是桌面提示功能</h3>
        <div class="in">
          <p>自动加载了新微博后，脚本还可以通过桌面提示的方式通知您收到的新微博以方便您及时查阅和评论。桌面提示是浏览器在桌面角落弹出的一个提示框，即便浏览器处于最小化的状态，桌面提示一样会显示出来。（但是如果您正在运行其他全屏程序，则会被覆盖）火狐浏览器的桌面提示当前有 4 秒后会自动隐藏的限制，如果您希望控制显示的时间，您可以考虑使用 Tab notifier 等扩展以获得更好的效果。</p>
          <h4>webkitNotifications 和 Notification 的区别 (Firefox)</h4>
          <div class="in">
            <p>如果您安装了 Tab notifier 等扩展，那么脚本会让您选择使用哪个弹出桌面提示。Notification 是浏览器默认的桌面提示工具，有只能显示 4 秒的限制，而 webkitNotifications 是 Tab notifier 或其他扩展提供的桌面提示，当前 Tab notifier 虽然没有显示时间的限制，但是只能显示前两行消息。</p>
          </div>
        </div>
      </div>
      <h2>清理页面</h2>
      <div class="in">
        <h3>如何隐藏某个元素</h3>
        <div class="in">
          <p>脚本除了过滤微博外，还可以帮助你隐藏一些界面上的元素。你可以到设置中“模块”选项卡找找看，有没有你需要隐藏的模块。</p>
        </div>
        <h3>设置里没有我要隐藏的某个模块</h3>
        <div class="in">
          <ul>
            <li>首先确认一下你要隐藏的是不是微博或类似微博的元素，如果是的话可以在“更多”选项卡中找到。如微博列表中偶尔会出现的推荐关注，微博列表中的推广微博等。</li>
            <li>如果某个模块是刚刚推出的，那请尝试更新一下脚本，看看是否新的版本中已提供了该功能。</li>
            <li>此外，还可以参考一下<a href="https://tiansh.github.io/yawf/stylish.html" target="_blank">常用自定义样式</a>，看看能不能用自定义样式隐藏。</li>
            <li>如果还是没有找到，可以直接在微博上找我，或者在这里提交一个 <a href="https://github.com/tiansh/yawf/issues" target="_blank">issue</a> 。</li>
          </ul>
        </div>
      </div>
      <h2>其他功能</h2>
      <div class="in">
        <h3>什么是阅读模式</h3>
        <div class="in">
          <p>阅读模式是一个只有微博列表，而隐去了其他尽可能多的东西的浏览模式。您在设置中启用之后，可以按快捷键或点对应按钮进入该模式，退出的方式和进入相同。</p>
          <p>设置中的快捷键是可以修改的：首先鼠标点击快捷键的那个按钮，然后在键盘上按您想要的组合键，就可以修改预设的快捷键。使用 Esc 可以禁用快捷键。</p>
        </div>
        <h3>什么是自定义 CSS</h3>
        <div class="in">
          <p>CSS（层叠样式表）是描述网页排版的一种计算机语言。自定义 CSS 提供高级的修改版面的方式。由于脚本的设置是随用户不同而区分的，所以脚本需要等页面加载好后才能应用这些样式。如果希望样式及早生效，建议使用 <a href="https://addons.mozilla.org/zh-CN/firefox/addon/stylish/" target="_blank">Stylish 扩展</a> 。</p>
          <p>您可以查阅<a href="https://tiansh.github.io/yawf/stylish.html" target="_blank">常用自定义样式</a>获取更多关于自定义 CSS 的参考。</p>
          <h4>我设置的 CSS 隐藏了漏斗图标或设置窗口</h4>
          <div class="in">
            <p>除了漏斗图标，您还可以在齿轮状图标的下拉菜单中找到“过滤器设置”选项打开设置窗口。</p>
            <p>此外，您还可以在新浪微博页面上，点击 GreaseMonkey 的猴子图标右侧的下拉箭头，从菜单中找到用户脚本命令下的“编辑 YAWF 自定义 CSS” ，并在其中取消掉您之前的设置。该设置方式仅建议在因错误的设置导致不能打开设置界面时使用。</p>
          </div>
        </div>
      </div>
      <h2>帮助脚本变得更好</h2>
      <div class="in">
        <h3>贡献代码</h3>
        <div class="in">
          <p>脚本使用 MIT 协议开源，<a href="https://github.com/tiansh/yawf/" target="_blank"></a>项目托管于 GitHub。欢迎分支项目并创建拉去请求为脚本贡献代码。</p>
          <p>如果希望添加新功能，建议先通过<a href="http://weibo.com/tsh90">微博私信</a>或<a href="https://github.com/tiansh/yawf/issues" target="_blank">项目的问题追踪器</a>讨论是否应当添加对应的功能，另外请参考<a href="https://github.com/tiansh/yawf/wiki/TODO" target="_blank">关于需要的功能的说明</a>。</p>
        </div>
        <h3>报告错误和功能建议</h3>
        <div class="in">
          <p>发现任何错误或有任何功能建议，欢迎在GitHub上反馈，或直接私信作者。</p>
          <p>请参考<a href="https://github.com/tiansh/yawf/blob/master/CONTRIBUTING.mediawiki" target="_blank">CONTRIBUTING</a>页面。</p>
        </div>
        <h3>支持我们的开发</h3>
        <div class="in">
          <p>脚本开发完全是个人业余兴趣，脚本不接受任何形式的捐赠，感谢您的支持。</p>
          <p>如果您觉得脚本很好，欢迎帮助我们宣传脚本：让更多人知道这个脚本，用上这个脚本是对我们最好的支持。</p>
        </div>
      </div>
    </div>
  </article>
</body>
</html>
